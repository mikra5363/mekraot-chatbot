<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מכון מקראות - בוט חכם</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .chat-container {
            width: 100%;
            max-width: 800px;
            height: 90vh;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c5f5f 0%, #8b2635 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
        }
        
        .message.user {
            justify-content: flex-start;
        }
        
        .message.bot {
            justify-content: flex-end;
        }
        
        .message-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            line-height: 1.4;
        }
        
        .message.user .message-bubble {
            background: #8b2635;
            color: white;
        }
        
        .message.bot .message-bubble {
            background: white;
            border: 2px solid #e9ecef;
            color: #333;
        }
        
        .message.bot .message-bubble strong {
            color: #8b2635;
        }
        
        .ai-indicator {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 11px;
            margin-bottom: 8px;
            display: inline-block;
            font-weight: bold;
        }
        
        .thinking {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #666;
            font-style: italic;
        }
        
        .thinking span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #8b2635;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        
        .thinking span:nth-child(1) { animation-delay: -0.32s; }
        .thinking span:nth-child(2) { animation-delay: -0.16s; }
        .thinking span:nth-child(3) { animation-delay: 0s; }
        
        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }
        
        .quick-questions {
            padding: 15px 20px;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }
        
        .quick-questions h4 {
            margin-bottom: 10px;
            color: #333;
            font-size: 14px;
        }
        
        .question-btn {
            display: inline-block;
            margin: 3px;
            padding: 8px 12px;
            background: white;
            border: 1px solid #8b2635;
            color: #8b2635;
            border-radius: 16px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .question-btn:hover {
            background: #8b2635;
            color: white;
            transform: translateY(-1px);
        }
        
        .question-btn.primary {
            background: #8b2635;
            color: white;
        }
        
        .input-area {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        
        .input-field {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            font-family: inherit;
        }
        
        .input-field:focus {
            border-color: #8b2635;
        }
        
        .send-btn {
            padding: 12px 20px;
            background: #8b2635;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }
        
        .send-btn:hover {
            background: #a12e42;
        }
        
        /* התאמות לטלפון */
        @media (max-width: 768px) {
            body {
                padding: 0;
                align-items: stretch;
            }
            
            .chat-container {
                height: 100vh;
                border-radius: 0;
                max-width: none;
            }
            
            .messages {
                padding: 15px;
            }
            
            .input-area {
                padding: 12px 15px;
            }
            
            .quick-questions {
                padding: 12px 15px;
            }
            
            .question-btn {
                padding: 6px 10px;
                font-size: 11px;
                margin: 2px;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="header">
            <h1>🎓 מכון מקראות</h1>
            <p>בוט חכם לייעוץ ומידע</p>
        </div>
        
        <div class="messages" id="messages">
            <div class="message bot">
                <div class="message-bubble">
                    שלום! 👋 אני הבוט החכם של מכון מקראות.<br>
                    תוכלו לשאול אותי על המבדק 360°, מחירים, קופות חולים ועוד.<br><br>
                    איך אוכל לעזור לכם היום? 😊
                </div>
            </div>
        </div>
        
        <div class="quick-questions">
            <h4>שאלות מומלצות:</h4>
            <div id="question-buttons"></div>
            <span class="question-btn primary" onclick="openSchedulingForm()">📅 קביעת תור</span>
        </div>
        
        <div class="input-area">
            <input type="text" id="userInput" class="input-field" placeholder="שאלו אותי כל שאלה..." onkeypress="handleKeyPress(event)">
            <button class="send-btn" onclick="sendMessage()">שלח</button>
        </div>
    </div>

    <script>
        // מאגר שאלות רנדומליות
        const questionBank = [
            { text: "מה כולל המבדק 360°?", key: "מבדק" },
            { text: "כמה עולה המבדק?", key: "מחיר" },
            { text: "קשב וריכוז", key: "קשב" },
            { text: "קופות חולים", key: "קופות" },
            { text: "לימוד אונליין", key: "אונליין" },
            { text: "מה זה מיקוד ראיה?", key: "מיקוד ראיה" },
            { text: "איך פזילה מפריעה?", key: "פזילה" },
            { text: "למה מבדק לפני טיפול?", key: "חשיבות המבדק" },
            { text: "מה זה גרפולוגיה?", key: "גרפולוגיה" },
            { text: "זכרון חזותי ושמיעתי", key: "זכרון חזותי" },
            { text: "איך דיסלקציה קשורה?", key: "דיסלקציה" },
            { text: "מה זה שיום ושליפה?", key: "שיום ושליפה" },
            { text: "בדיקת שמיעה", key: "בדיקת שמיעה" },
            { text: "קוצר ראיה וקריאה", key: "קוצר ראיה" },
            { text: "רוחק ראיה", key: "רוחק ראיה" },
            { text: "הבנת הנקרא", key: "הבנת הנקרא" },
            { text: "שטף קריאה", key: "שטף קריאה" },
            { text: "לימודים במכון", key: "לימודים במכון" },
            { text: "הרצאות מקצועיות", key: "הרצאות" },
            { text: "מה הגילאים?", key: "גילאי תלמידים" },
            { text: "סניפים ומקומות", key: "סניפים" },
            { text: "לבנים - איפה?", key: "בנים" },
            { text: "לבנות - אונליין", key: "בנות" },
            { text: "למה 95% הצלחה?", key: "תוצאות" }
        ];

        // מאגר תשובות
        const responses = {
            "מבדק": `🔍 <strong>המבדק 360° - הבדיקה הכי מקיפה שיש</strong>

אנחנו בודקים 11 תחומים שונים כדי למצוא את הסיבה האמיתית לקושי:

<strong>📋 מה בדיוק אנחנו בודקים:</strong>
1. פרטים בסיסיים
2. היסטוריה ופיתוח
3. בריאות כללית
4. קשב וריכוז
5. ראייה מתקדמת
6. זיכרון ושליפה
7. רושם מקצועי
8. קריאה בפועל
9. שטף וביטחון
10. מציאות בחיידר
11. הילד בעצמו

<strong>💰 מחיר:</strong> 650 ש"ח (קופות החולים משתתפות!)
<strong>⏰ משך:</strong> כשעה בקצב נוח לילד
<strong>📄 תוצאות:</strong> דו"ח מפורט תוך 3-5 ימים`,

            "מחיר": `💰 <strong>מחירים שקופים ונגישים</strong>

<strong>🎯 המבדק 360°:</strong> 650 ש"ח
<strong>⚡ מבדק מוקסו נוסף:</strong> +100 ש"ח
<strong>📚 לימודים:</strong> מחירים ידידותיים

<strong>🏥 קופות החולים משתתפות:</strong>
✅ כללית | ✅ מכבי | ✅ מאוחדת | ✅ לאומית

<strong>📞 לפרטים מדויקים:</strong>
פנו למזכירות - כל קופה עם תנאים שונים`,

            "קשב": `🧠 <strong>קשב וריכוז - המבדק המתקדם</strong>

<strong>🎮 מבדק MOXO:</strong>
משחק אינטראקטיבי שבודק קשב בצורה מדויקת - לא שאלות, אלא מדידת ביצועים אמיתיים.

<strong>💡 למה זה מדויק?</strong>
המחשב מודד זמני תגובה, דיוק ותמדה - נתונים אמיתיים במקום ניחושים.

<strong>💰 עלות:</strong> 100 ש"ח נוסף על המבדק 360°
<strong>🏥 קופות החולים:</strong> משתתפות גם במוקסו`,

            "קופות": `🏥 <strong>קופות חולים - תמיכה מלאה</strong>

<strong>✅ כל הקופות משתתפות:</strong>
• קופת חולים כללית
• מכבי שירותי בריאות  
• קופת חולים מאוחדת
• קופת חולים לאומית

<strong>🎯 ההשתתפות כוללת:</strong>
• המבדקים (360° ומוקסו)
• הטיפולים והלימודים

<strong>📞 לפרטים מדויקים:</strong>
פנו למזכירות - התנאים משתנים בין הקופות`,

            "אונליין": `💻 <strong>לימודים אונליין - איכות מעולה מכל מקום</strong>

<strong>🌟 מה זה בעצם?</strong>
אותו מורה מנוסה, אותם תרגילים, אותה איכות - רק דרך המסך.

<strong>🏠 למי מתאים?</strong>
• מבוגרים שרוצים פרטיות
• תושבי פריפריה
• לוחות זמנים עמוסים
• ילדים עם צרכים מיוחדים

<strong>📊 התוצאות:</strong> מעל 95% הצלחה!
<strong>💰 מחיר:</strong> זהה למכון + השתתפות קופות`,

            "כללי": `🎓 <strong>ברוכים הבאים למכון מקראות</strong>

<strong>🌟 החזון שלנו:</strong>
להיות הכתובת הכי מקצועית עבור כל מי שמתקשה בקריאה.

<strong>🏢 איפה אנחנו:</strong>
• ביתר עילית (המכון המרכזי)
• בית שמש
• מודיעין עילית  
• אונליין - מכל מקום בעולם

<strong>💡 מה אנחנו מציעים:</strong>
• המבדק 360° (650 ש"ח)
• מבדק מוקסו (+100 ש"ח)
• לימודים עם יהודהלע
• תמיכה מלאה מקופות החולים

<strong>🤗 למה אנחנו שונים?</strong>
95% מהילדים שמגיעים אלינו יוצאים כשהם יודעים לקרוא!`
        };

        // הוספת תשובות נוספות לבועות החסרות
        responses["מיקוד ראיה"] = `🎯 <strong>מיקוד ראיה - הבעיה הנסתרת</strong>

היכולת של העיניים לשנות מיקוד מהר ובדיוק - מהלוח לספר, משורה לשורה. כשזה לא עובד טוב:

<strong>📚 איך זה מפריע לקריאה:</strong>
• הילד "מאבד" את המקום בטקסט
• קופץ שורות או חוזר על שורה
• מתעייף מהר מקריאה
• נראה כאילו לא מתרכז

<strong>🔍 איך זה נראה:</strong>
• משתמש באצבע לעקוב אחר הטקסט
• מטה את הראש בזמן קריאה
• מתלונן על כאבי ראש
• קורא מילה במילה במקום בשטף

המבדק 360° בודק את זה במיוחד! הרבה ילדים ש"עצלנים" בקריאה פשוט מתמודדים עם בעיית מיקוד ראיה.`;

        responses["בנים"] = `👦 <strong>בנים - 4 מקומות נהדרים ללמוד</strong>

<strong>🏢 הסניפים שלנו לבנים:</strong>

<strong>🌟 ביתר עילית:</strong> המכון המרכזי - הצוות הכי ותיק
<strong>🏠 בית שמש:</strong> סניף מקצועי - נוח לאזור השפלה  
<strong>🌄 מודיעין עילית:</strong> לתושבי האזור
<strong>💻 אונליין:</strong> מכל מקום בעולם - בדיוק אותה איכות!

<strong>🎯 מה זהה בכל המקומות:</strong>
• אותן 4 תוכנות מתקדמות
• אותם אחוזי הצלחה (מעל 95%)
• אותה רמת מקצועיות
• אותה השתתפות קופות חולים

בחרו מה הכי נוח לכם - התוצאות יהיו מעולות בכל מקום!`;

        responses["תוצאות"] = `📊 <strong>למה 95% הצלחה? מה הסוד?</strong>

<strong>🎯 הסוד בגישה המקיפה:</strong>
לא מתחילים "ללמד קריאה" עד שיודעים בדיוק מה הבעיה!

<strong>💡 הגישה שלנו שונה:</strong>
• <strong>מבדק 360°</strong> - בודקים 11 תחומים שונים
• <strong>זיהוי הגורם האמיתי</strong> - לפעמים זה בעיית ראייה, לא קריאה!
• <strong>טיפול מותאם אישית</strong> - כל ילד מקבל בדיוק מה שהוא צריך
• <strong>4 תוכנות מתקדמות</strong> - כל אחת לתחום אחר

<strong>🎪 דוגמאות מהשטח:</strong>
• ילד עם "דיסלקציה" - התברר שיש לו בעיית מיקוד ראיה
• ילדה "עצלנית" - התברר שיש לה קוצר ראיה
• ילד עם "קשיי קשב" - התברר שיש לו בעיית שמיעה

כשמטפלים בגורם האמיתי - השיפור דרמטי ומהיר! זה לא קסם - זה מדע! 🧠✨`;

        responses["זכרון חזותי"] = `🧠 <strong>זכרון חזותי - המפתח ללמידה יעילה</strong>

היכולת לזכור מידע שראינו לזמן קצר - צורות, מיקומים, רצפים חזותיים.

<strong>📚 איך זה קשור ללמידה:</strong>
• זכירת צורות האותיות והמילים
• זכירת מיקום המידע על הדף
• זכירת הוראות שכתובות על הלוח
• זכירת רצפי פעולות שראה

<strong>⚠️ ילד עם קושי בזכרון חזותי:</strong>
• שוכח מה ראה לפני רגע
• מתקשה לזכור איפה המקום בספר
• לא זוכר הוראות מהלוח
• צריך להסתכל שוב ושוב

כשיודעים איך הזכרון החזותי עובד - אפשר להתאים תוכנית לימודים שתוביל להצלחה!`;

        responses["בנות"] = `👧 <strong>בנות - לימודים אונליין באיכות מעולה</strong>

לבנות יש לנו פתרון מיוחד - לימודים אונליין באיכות הכי גבוהה!

<strong>💻 למה רק אונליין לבנות:</strong>
• שמירה על צניעות והתאמה לערכי הקהילה
• נוחות ופרטיות מלאה
• אפשרות ללמוד בסביבה הבטוחה של הבית
• גמישות בזמנים

<strong>🌟 איכות זהה לחלוטין למכון:</strong>
• אותן 4 תוכנות מתקדמות
• אותן שיטות טיפול מוכחות
• אותו צוות מקצועי
• מעל 95% הצלחה!

הבנות מקבלות בדיוק אותה איכות ועוד יתרונות של נוחות ופרטיות!`;

        responses["פזילה"] = `👀 <strong>פזילה - איך זה משפיע על קריאה</strong>

כשהעיניים לא מסתכלות לאותו כיוון - הילד רואה כפול והמוח "מכבה" עין אחת.

<strong>📖 ההשפעה על קריאה:</strong>
• אובדן עומק ראיה
• קושי לעקוב אחר שורות
• עייפות מהירה
• הימנעות מקריאה

לפעמים טיפול בפזילה פותר "קושי בקריאה"!`;

        responses["שטף קריאה"] = `⚡ <strong>שטף קריאה - קריאה נעימה ויעילה</strong>

היכולת לקרוא במהירות מתאימה, בצורה חלקה ועם ביטוי.

<strong>🎯 איך מפתחים שטף:</strong>
• חיזוק בסיס האותיות
• תרגול מילים מוכרות
• תרגילי מהירות הדרגתיים
• קריאה בביטוי

מהקריאה האיטית למהירה ונעימה!`;

        responses["דיסלקציה"] = `📚 <strong>דיסלקציה - יש לנו פתרון מיוחד</strong>

קושי ספציפי בלמידה - לא קשור לרמת אינטליגנציה!

<strong>🔬 השיטה שלנו:</strong>
• גישה רב-חושית
• פירוק המידע ליחידות קטנות
• שימוש בכוחות הדיסלקט
• בניית ביטחון עצמי

גם דיסלקטים מגיעים לאחוזי הצלחה גבוהים!`;

        // יצירת בועות רנדומליות
        function createRandomButtons() {
            const container = document.getElementById('question-buttons');
            const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, 4);
            
            container.innerHTML = '';
            selected.forEach(q => {
                const btn = document.createElement('span');
                btn.className = 'question-btn';
                btn.textContent = q.text;
                btn.onclick = () => askQuestion(q.key);
                container.appendChild(btn);
            });
        }

        // שליחת הודעה
        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            if (!message) return;

            addMessage(message, true);
            input.value = '';

            showThinking();
            setTimeout(() => {
                hideThinking();
                const response = getResponse(message);
                addMessage(response.text, false, response.showAI);
                createRandomButtons();
            }, 1500);
        }

        // זיהוי תשובה
        function getResponse(question) {
            const q = question.toLowerCase();

            // בדיקות פשוטות וברורות
            if (q.includes('שטף קריאה') || q.includes('שטף')) return { text: responses["שטף קריאה"], showAI: true };
            if (q.includes('פזילה')) return { text: responses["פזילה"], showAI: true };
            if (q.includes('מיקוד ראיה') || q.includes('מיקוד')) return { text: responses["מיקוד ראיה"], showAI: true };
            if (q.includes('דיסלקציה')) return { text: responses["דיסלקציה"], showAI: true };
            if (q.includes('זכרון חזותי') || q.includes('זכרון')) return { text: responses["זכרון חזותי"], showAI: true };
            if (q.includes('בנים') && !q.includes('בנות')) return { text: responses["בנים"], showAI: true };
            if (q.includes('בנות')) return { text: responses["בנות"], showAI: true };
            if (q.includes('תוצאות') || q.includes('95%') || q.includes('הצלחה') || q.includes('למה כל כך יעיל')) return { text: responses["תוצאות"], showAI: true };
            if (q.includes('מבדק') || q.includes('כולל')) return { text: responses["מבדק"], showAI: true };
            if (q.includes('מחיר') || q.includes('עולה') || q.includes('כמה')) return { text: responses["מחיר"], showAI: true };
            if (q.includes('קשב') || q.includes('ריכוז') || q.includes('מוקסו')) return { text: responses["קשב"], showAI: true };
            if (q.includes('קופות') || q.includes('השתתפות')) return { text: responses["קופות"], showAI: true };
            if (q.includes('אונליין') || q.includes('מרחוק')) return { text: responses["אונליין"], showAI: true };

            return { text: responses["כללי"], showAI: false };
        }

        // שאלה מהירה
        function askQuestion(key) {
            const questionItem = questionBank.find(q => q.key === key);
            const questionText = questionItem ? questionItem.text : key;
            
            addMessage(questionText, true);
            
            showThinking();
            setTimeout(() => {
                hideThinking();
                
                // אם יש תשובה ישירה לפי המפתח, השתמש בה
                if (responses[key]) {
                    addMessage(responses[key], false, true);
                } else {
                    // אחרת, השתמש בפונקציה הרגילה
                    const response = getResponse(questionText);
                    addMessage(response.text, false, response.showAI);
                }
                
                createRandomButtons();
            }, 1500);
        }

        // הוספת הודעה
        function addMessage(text, isUser, showAI = false) {
            const container = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';
            
            if (showAI && !isUser) {
                const aiIndicator = document.createElement('div');
                aiIndicator.className = 'ai-indicator';
                aiIndicator.textContent = '🧠 תשובה חכמה מותאמת';
                bubble.appendChild(aiIndicator);
            }
            
            const content = document.createElement('div');
            content.innerHTML = text.replace(/\n/g, '<br>');
            bubble.appendChild(content);
            
            messageDiv.appendChild(bubble);
            container.appendChild(messageDiv);
            
            container.scrollTop = container.scrollHeight;
        }

        // אינדיקטור חשיבה
        function showThinking() {
            const container = document.getElementById('messages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.id = 'thinking-msg';
            thinkingDiv.className = 'message bot';
            
            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';
            
            const thinking = document.createElement('div');
            thinking.className = 'thinking';
            thinking.innerHTML = 'חושב... <span></span><span></span><span></span>';
            
            bubble.appendChild(thinking);
            thinkingDiv.appendChild(bubble);
            container.appendChild(thinkingDiv);
            
            container.scrollTop = container.scrollHeight;
        }

        function hideThinking() {
            const thinking = document.getElementById('thinking-msg');
            if (thinking) thinking.remove();
        }

        // טופס קביעת תור
        function openSchedulingForm() {
            addMessage('📅 קביעת תור', true);
            showThinking();
            setTimeout(() => {
                hideThinking();
                addMessage(`📋 <strong>קביעת תור למבדק 360°</strong>

<strong>📞 דרכי יצירת קשר:</strong>
• טלפון: [מספר טלפון]
• ווטסאפ: [מספר ווטסאפ]
• אימייל: [כתובת מייל]

<strong>⏰ זמני פעילות:</strong>
• א'-ה': 8:00-18:00
• ו': 8:00-13:00

<strong>🎯 מה נצטרך לדעת:</strong>
• שם הילד וגיל
• רמת הקריאה הנוכחית
• סניף מועדף
• זמנים נוחים

נחזור אליכם תוך 24 שעות! 📱`, false, true);
            }, 1500);
        }

        // טיפול במקש Enter
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // התחלה
        createRandomButtons();
        document.getElementById('userInput').focus();
    </script>
</body>
</html>
